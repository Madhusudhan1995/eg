// import React, { Component } from "react";
// import {Text,View,FlatList} from "react-native";
// import FCM from "react-native-fcm";
// import { List, ListItem } from "react-native-elements";
//
// import { registerKilledListener, registerAppListener } from "../helpers/pushListner";
//
// registerKilledListener();
//
// export class PushNotification extends Component {
//   constructor(props) {
//     super(props);
//
//     this.state = {
//       token: "",
//       tokenCopyFeedback: "",
//       data: [],
//       refreshing: false
//     };
//   }
//
//   async componentDidMount() {
//     //FCM.createNotificationChannel is mandatory for Android targeting >=8. Otherwise you won't see any notification
//     FCM.createNotificationChannel({
//       id: 'default',
//       name: 'Default',
//       description: 'used for example',
//       priority: 'high'
//     })
//     registerAppListener(this.props.navigation);
//     FCM.getInitialNotification().then(notif => {
//       this.setState({
//         initNotif: notif
//       });
//       if (notif && notif.targetScreen === "detail") {
//         setTimeout(() => {
//           this.props.navigation.navigate("Detail");
//         }, 500);
//       }
//     });
//
//     try {
//       let result = await FCM.requestPermissions({
//         badge: false,
//         sound: true,
//         alert: true
//       });
//     } catch (e) {
//       console.error(e);
//     }
//
//     FCM.getFCMToken().then(token => {
//       console.log("TOKEN (getFCMToken)", token);
//       this.setState({ token: token || "" });
//     });
//
//
//
//     // topic example
//     FCM.subscribeToTopic('sometopic')
//     FCM.unsubscribeFromTopic('sometopic')
//
//     this.makeRemoteRequest();
//   }
//
//
//   makeRemoteRequest = () => {
//     const { page, seed } = this.state;
//     const url = "https://randomuser.me/api/?seed=${seed}&page=${page}&results=20";
//     this.setState({ loading: true });
//
//     fetch(url)
//       .then(res => res.json())
//       .then(res => {
//         this.setState({
//           data: page === 1 ? res.results : [...this.state.data, ...res.results],
//           error: res.error || null,
//           loading: false,
//           refreshing: false
//         });
//       })
//       .catch(error => {
//         this.setState({ error, loading: false });
//       });
//   };
//
//
//   renderSeparator = () => {
//     return (
//       <View
//         style={{
//           height: 1,
//           width: "100%",
//           backgroundColor: "#CED0CE",
//           marginLeft: "14%"
//         }}
//       />
//     );
//   };
//
//
//   handleRefresh = () => {
//     this.setState(
//       {
//         page: 1,
//         seed: this.state.seed + 1,
//         refreshing: true
//       },
//       () => {
//         this.makeRemoteRequest();
//       }
//     );
//   };
//
//
//   handleLoadMore = () => {
//     this.setState(
//       {
//         page: this.state.page + 1
//       },
//       () => {
//         this.makeRemoteRequest();
//       }
//     );
//   };
//
//   renderHeader = () => {
//     return (
//       <View style={{ flex: 1, alignItems: "center", fontWeight:"bold"  }}>
//         <Text> NOTIFICATIONS </Text>
//       </View>
//   )};
//
//     render() {
//       return (
//         <List containerStyle={{ borderTopWidth: 0, borderBottomWidth: 0 }}>
//           <FlatList
//             data={this.state.data}
//             renderItem={({ item }) => (
//               <ListItem
//                 roundAvatar
//                 title={`${item.name.first} ${item.name.last}`}
//                 subtitle={item.email}
//                 avatar={{ uri: item.picture.thumbnail }}
//                 containerStyle={{ borderBottomWidth: 0 }}
//               />
//             )}
//             keyExtractor={item => item.email}
//             ItemSeparatorComponent={this.renderSeparator}
//             ListHeaderComponent={this.renderHeader}
//
//             onRefresh={this.handleRefresh}
//             refreshing={this.state.refreshing}
//             onEndReached={this.handleLoadMore}
//             onEndReachedThreshold={50}
//           />
//         </List>
//       );
//     }
// }
//
// export default PushNotification;
